---
title: 在报告画布中构建公式字段
description: 在报告画布中构建公式字段
author: Nolan
draft: Probably
feature: Reports and Dashboards
exl-id: 22a2c3d7-39db-4f5d-94f3-222ca3ee0615
source-git-commit: ca70952bf0acd71f748b042852d434b560727a83
workflow-type: tm+mt
source-wordcount: '653'
ht-degree: 7%

---


# 在报告画布中构建公式字段

报告画布中的字段生成器允许您创建执行自定义计算的字段。

## 先决条件

在开始之前，您必须注册报表画布测试版。 有关更多信息，请参阅 [报告画布测试版：概述](/help/quicksilver/product-announcements/betas/canvas-dashboards-beta/reporting-canvas-beta-overview.md).

## 创建公式字段

1. 创建或导航到表块，如中所述 [在报告画布中添加或编辑表块](../../../reports-and-dashboards/reporting-canvas/table-blocks/add-or-edit-report-table.md).
1. 在报表的表标题上，单击 **编辑** 图标 ![](assets/edit-icon.png).

   ![](assets/edit-icon-table-header-350x71.png)

   >[!NOTE]
   >
   >如果您刚刚创建了表且尚未添加任何字段，请改为单击表中心的“编辑”按钮。

1. 单击 **新建+** 在顶部 **字段** 列表。
1. 在打开的新页面中，单击 **编辑** 图标 ![](assets/edit-icon.png) 左上角的字段名称旁边，可更改公式字段的名称。
1. 拖动 **函数** 或 **字段** 从左侧面板到中间的字段生成器，以将其添加到您的公式字段中。


   >[!TIP]
   >
   >当您构建公式字段时， **字段预览** 在右侧显示结果字段的示例。

   每个函数都包含许多空的点状矩形，这些矩形将在计算结果中用作参数。 可以通过输入静态文本或数字、从左侧面板拖放字段（在计算中使用字段的值）或拖放另一个函数（创建嵌套函数）来填充这些字段。 可能的功能包括：

   | 功能 | 描述 | 输出 |
   |---|---|---|
   | IF | 根据选定的修饰符比较两个参数，然后根据生成的True (Is True：)或False (Is False：)值执行指定的操作。 注意：当前，第二个参数不能是静态True或False值。 相反，您可以使用嵌套函数，如ISBLANK（项目名称），该函数始终返回False作为解决方法。 | 真/假、日期、数字或字符串 |
   | CONCAT | 端到端地将两个或多个字符串合并在一起，以创建新字符串。 | 字符串 |
   | CONTAINS | 评估一个字符串参数字段（查找文本）是否包含在另一个字符串参数字段（文本内）中。 | 真/假 |
   | 位于‍ | 评估参数字段（查找）的值是否与至少一个其他参数字段(Within)的值匹配 | 真/假 |
   | ISBLANK | 评估参数字段是否为空。 | 真/假 |
   | LEN | 测量参数字段的长度（字符数）。 | 数字 |
   | ROUND | 返回基于所选精度的舍入数字。 | 数字 |
   | FLOOR | 返回最接近的整数，向下舍入。 | 数字 |
   | 数字 | 返回小于数值参数（与Floor函数相同）值的最大整数。 | 数字 |
   | 字符串 | 将参数字段的内容转换为字符串 | 字符串 |
   | SUBSTR | 从较大的字符串创建一个新字符串，该字符串包含一个索引编号（开始）到另一个索引编号（结束）之间的字符。 | 字符串 |
   | 左 | 从较大的字符串创建一个新字符串，该字符串包含以最左侧开头并在右侧计为多个字符（长度）的字符。 | 字符串 |
   | 右 | 从较大的字符串创建一个新字符串，该字符串包含以最右侧开头的字符，并且左侧计为多个字符（长度）。 | 字符串 |
   | 总和 | 将两个或更多参数字段的值相加。 | 数字 |
   | SUB | 减去两个或更多参数字段的值（按从左到右的顺序排列）。 | 数字 |
   | PROD | 将两个或更多参数字段的值相乘。 | 数字 |
   | DIV | 将两个或更多参数字段的值相除（按从左到右的顺序）。 | 数字 |
   | 月 | 返回一个等于日期的月份值的数字。 | 数字 |
   | 年 | 返回一个等于日期的年份值的数字。 | 数字 |
   | DATEDIFF | 计算两个日期之间的总天数，四舍五入到一位小数。 | 数字 |
   | WEEKDAYDIFF | 计算两个日期之间的工作日数，四舍五入到一位小数。 | 数字 |

   {style="table-layout:auto"}

1. 单击 **返回** 屏幕左上角的箭头返回您的表格。
